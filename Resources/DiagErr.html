<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Диагностика и нейтрализация ошибок</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1> Диагностика и нейтрализация синтаксических ошибок</h1>

    <h2> Суть метода Айронса</h2>
    <p>Метод Айронса позволяет восстановить работу парсера при обнаружении синтаксических ошибок во входной цепочке. Для комментариев PHP это актуально в случаях:</p>
    <ul>
        <li>Незакрытый многострочный комментарий (<code>/* текст</code>)</li>
        <li>Некорректные символы внутри комментария (например: <code>// комментарий #</code>)</li>
    </ul>

    <h3>Алгоритм нейтрализации:</h3>
    <ol>
        <li>
            <strong>Обнаружение ошибки:</strong><br>
            В процессе разбора встретился символ <code>T</code>, не соответствующий ожидаемым терминалам текущего состояния.<br>
            <em>Пример:</em> В состоянии <code>&lt;qML&gt;</code> ожидались <code>c</code> или <code>*</code>, но встретился <code>#</code>
        </li>

        <li>
            <strong>Определение недостроенного куста:</strong><br>
            В автоматной грамматике всегда один недостроенный куст - текущее состояние.<br>
            <em>Пример:</em> Ошибка в <code>&lt;qML&gt;</code> → куст: <code>&lt;q0&gt; → &lt;q1&gt; → &lt;qML&gt;</code>
        </li>

        <li>
            <strong>Формирование множества L:</strong><br>
            Множество допустимых символов для текущего состояния.<br>
            <em>Пример:</em> Для <code>&lt;qML&gt;</code>: <code>L = {c, *}</code>
        </li>

        <li>
            <strong>Удаление ошибочных символов:</strong><br>
            Последовательно удаляются символы до валидного <code>T ∈ L</code>.<br>
            <em>Пример:</em> Цепочка <code>/* текст # ... */</code> → удаление до <code>*/</code>
        </li>

        <li>
            <strong>Привязка к кусту:</strong><br>
            Возврат в исходное состояние и продолжение разбора
        </li>
    </ol>

    <h2> Реализация для автоматной грамматики PHP</h2>
    <div class="features">
        <h3>Особенности:</h3>
        <ul>
            <li>Линейная структура состояний (цепочка переходов)</li>
            <li>Недостроенный куст = текущее состояние ошибки</li>
        </ul>

        <h3>Алгоритм восстановления:</h3>
        <pre><code class="algorithm">
1. Фиксация состояния &lt;qX&gt; как недостроенного куста
2. Формирование L = {допустимые символы для &lt;qX&gt;}
3. Удаление символов до T ∈ L
4. Возврат в &lt;qX&gt; и продолжение разбора
        </code></pre>

        <h3>Пример работы:</h3>
        <div class="example">
            <p>Вход: <code>/* комментарий # */</code></p>
            <ol>
                <li>Ошибка в <code>&lt;qML&gt;</code> при символе <code>#</code></li>
                <li>L = {c, *}</li>
                <li>Удаление символов до <code>*</code></li>
                <li>Переход в <code>&lt;q*&gt;</code> → успешное завершение</li>
            </ol>
        </div>
    </div>

    <div class="legend">
        <p>* c - любой символ кроме /, *, #, ␤</p>
    </div>
</body>
</html>